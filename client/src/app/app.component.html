<div class="container container--sm">
  <div class="stock">
    <h1 class="stock-header">Stocks Overview</h1>

    <!-- <app-new-stock (select)="onStockSelect($event)">
    </app-new-stock> -->

    <table class="table mt-3 stock-table">
      <thead>
        <tr>
          <th scope="col"> Stock </th>
          <th scope="col"> Price </th>
          <th scope="col"> Volume </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let stock of stocks">
          <tr (click)="toggleStock(stock)"
              class="stock-table__row">
            <td> {{stock.name}} </td>
            <td> ${{stock.stockQuotes?.price | number}} </td>
            <td> {{stock.stockQuotes?.volume | number}} </td>
          </tr>
          <tr class="stock-table__expanded-row"
              [class.d-none]="stock !== selectedStock">
            <td colspan="3">
              <div *ngIf="stock === selectedStock"
                   [@slide]>
                <app-stock-details [symbol]="stock.symbol"
                                   [stock]="stock">
                </app-stock-details>
              </div>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>
